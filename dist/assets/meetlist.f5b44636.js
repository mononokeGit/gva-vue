/*! 
 Build based on gin-vue-admin 
 Time : 1678795244000 */
import{r as e,a as l,b as a,o,c as t,d as u,e as d,w as r,h as m,k as n,v as p,C as i,P as s,i as v}from"./index.a10c697d.js";import{g as c,a as f,f as V,d as b,c as h,u as y}from"./meetcalendar.bacd960f.js";import{f as g}from"./format.7d611a05.js";import"./date.34b11046.js";import"./dictionary.f99b60b8.js";import"./sysDictionary.5409d8a6.js";const w={class:"gva-search-box"},_={class:"gva-table-box"},U={class:"gva-btn-list"},k=u("p",null,"确定要删除吗？",-1),D={style:{"text-align":"right","margin-top":"8px"}},z={class:"gva-pagination"},C={class:"dialog-footer"},M={name:"Meetlist"},x=Object.assign(M,{setup(M){const x=e({mDate:new Date,mRoom:0,mType:"",title:"",stime:new Date,ptime:0,leader:"",mleader:"",amount:0,level:"",resposen:"",route:"",remark:""}),T=l({}),R=e(),j=e(1),S=e(0),I=e(10),P=e([]),B=e({}),K=()=>{B.value={},A()},F=()=>{j.value=1,I.value=10,A()},O=e=>{I.value=e,A()},q=e=>{j.value=e,A()},A=async()=>{const e=await c({page:j.value,pageSize:I.value,...B.value});0===e.code&&(P.value=e.data.list,S.value=e.data.total,j.value=e.data.page,I.value=e.data.pageSize)};A();(async()=>{})();const E=e([]),G=e=>{E.value=e},H=e(!1),J=async()=>{const e=[];if(0===E.value.length)return void v({type:"warning",message:"请选择要删除的数据"});E.value&&E.value.map((l=>{e.push(l.ID)}));0===(await f({ids:e})).code&&(v({type:"success",message:"删除成功"}),P.value.length===e.length&&j.value>1&&j.value--,H.value=!1,A())},L=e(""),N=async e=>{0===(await b({ID:e.ID})).code&&(v({type:"success",message:"删除成功"}),1===P.value.length&&j.value>1&&j.value--,A())},Q=e(!1),W=()=>{L.value="create",Q.value=!0},X=()=>{Q.value=!1,x.value={mDate:new Date,mRoom:0,mType:"",title:"",stime:new Date,ptime:0,leader:"",mleader:"",amount:0,level:"",resposen:"",route:"",remark:""}},Y=async()=>{var e;null==(e=R.value)||e.validate((async e=>{if(!e)return;let l;switch(L.value){case"create":default:l=await h(x.value);break;case"update":l=await y(x.value)}0===l.code&&(v({type:"success",message:"创建/更改成功"}),X(),A())}))};return(e,l)=>{const v=a("el-date-picker"),c=a("el-form-item"),f=a("el-input"),b=a("el-col"),h=a("el-row"),y=a("el-button"),M=a("el-form"),A=a("el-popover"),Z=a("el-table-column"),$=a("el-table"),ee=a("el-pagination"),le=a("el-dialog");return o(),t("div",null,[u("div",w,[d(M,{inline:!0,model:B.value,class:"demo-form-inline",onKeyup:n(F,["enter"])},{default:r((()=>[d(c,{label:"会议日期"},{default:r((()=>[d(v,{modelValue:B.value.startMDate,"onUpdate:modelValue":l[0]||(l[0]=e=>B.value.startMDate=e),type:"datetime",placeholder:"搜索条件（起）"},null,8,["modelValue"]),m(" — "),d(v,{modelValue:B.value.endMDate,"onUpdate:modelValue":l[1]||(l[1]=e=>B.value.endMDate=e),type:"datetime",placeholder:"搜索条件（止）"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议室"},{default:r((()=>[d(f,{modelValue:B.value.mRoom,"onUpdate:modelValue":l[2]||(l[2]=e=>B.value.mRoom=e),modelModifiers:{number:!0},placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议类型"},{default:r((()=>[d(f,{modelValue:B.value.mType,"onUpdate:modelValue":l[3]||(l[3]=e=>B.value.mType=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议名称"},{default:r((()=>[d(f,{modelValue:B.value.title,"onUpdate:modelValue":l[4]||(l[4]=e=>B.value.title=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"开始时间"},{default:r((()=>[d(v,{modelValue:B.value.startStime,"onUpdate:modelValue":l[5]||(l[5]=e=>B.value.startStime=e),type:"datetime",placeholder:"搜索条件（起）"},null,8,["modelValue"]),m(" — "),d(v,{modelValue:B.value.endStime,"onUpdate:modelValue":l[6]||(l[6]=e=>B.value.endStime=e),type:"datetime",placeholder:"搜索条件（止）"},null,8,["modelValue"])])),_:1}),d(c,{label:"上级领导"},{default:r((()=>[d(f,{modelValue:B.value.leader,"onUpdate:modelValue":l[7]||(l[7]=e=>B.value.leader=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"我区参会领导"},{default:r((()=>[d(f,{modelValue:B.value.mleader,"onUpdate:modelValue":l[8]||(l[8]=e=>B.value.mleader=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"参会人数"},{default:r((()=>[d(f,{modelValue:B.value.amount,"onUpdate:modelValue":l[9]||(l[9]=e=>B.value.amount=e),modelModifiers:{number:!0},placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议等级"},{default:r((()=>[d(f,{modelValue:B.value.level,"onUpdate:modelValue":l[10]||(l[10]=e=>B.value.level=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"责任单位"},{default:r((()=>[d(f,{modelValue:B.value.resposen,"onUpdate:modelValue":l[11]||(l[11]=e=>B.value.resposen=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议线路"},{default:r((()=>[d(f,{modelValue:B.value.route,"onUpdate:modelValue":l[12]||(l[12]=e=>B.value.route=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(c,{label:"备注"},{default:r((()=>[d(f,{modelValue:B.value.remark,"onUpdate:modelValue":l[13]||(l[13]=e=>B.value.remark=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),d(h,null,{default:r((()=>[d(c,{label:"会议时长"},{default:r((()=>[d(b,{span:10},{default:r((()=>[d(f,{modelValue:B.value.startPtime,"onUpdate:modelValue":l[14]||(l[14]=e=>B.value.startPtime=e),modelModifiers:{number:!0},placeholder:"搜索条件（起）"},null,8,["modelValue"])])),_:1}),d(b,{span:1},{default:r((()=>[m("—")])),_:1}),d(b,{span:10},{default:r((()=>[d(f,{modelValue:B.value.endPtime,"onUpdate:modelValue":l[15]||(l[15]=e=>B.value.endPtime=e),modelModifiers:{number:!0},placeholder:"搜索条件（止）"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(c,null,{default:r((()=>[d(y,{size:"small",type:"primary",icon:"search",onClick:F},{default:r((()=>[m("查询")])),_:1}),d(y,{size:"small",icon:"refresh",onClick:K},{default:r((()=>[m("重置")])),_:1})])),_:1})])),_:1},8,["model","onKeyup"])]),u("div",_,[u("div",U,[d(y,{size:"small",type:"primary",icon:"plus",onClick:W},{default:r((()=>[m("新增")])),_:1}),d(A,{visible:H.value,"onUpdate:visible":l[18]||(l[18]=e=>H.value=e),placement:"top",width:"160"},{reference:r((()=>[d(y,{icon:"delete",size:"small",style:{"margin-left":"10px"},disabled:!E.value.length,onClick:l[17]||(l[17]=e=>H.value=!0)},{default:r((()=>[m("删除")])),_:1},8,["disabled"])])),default:r((()=>[k,u("div",D,[d(y,{size:"small",type:"primary",link:"",onClick:l[16]||(l[16]=e=>H.value=!1)},{default:r((()=>[m("取消")])),_:1}),d(y,{size:"small",type:"primary",onClick:J},{default:r((()=>[m("确定")])),_:1})])])),_:1},8,["visible"])]),d($,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:P.value,"row-key":"ID",onSelectionChange:G},{default:r((()=>[d(Z,{type:"selection",width:"auto"}),d(Z,{align:"left",label:"会议日期",width:"160"},{default:r((e=>[m(p(i(g)(e.row.mDate)),1)])),_:1}),d(Z,{align:"left",label:"会议室",prop:"mRoom",width:"auto"}),d(Z,{align:"left",label:"会议类型",prop:"mType",width:"auto"}),d(Z,{align:"left",label:"会议名称",prop:"title",width:"auto","show-overflow-tooltip":"true"}),d(Z,{align:"left",label:"开始时间",width:"auto","show-overflow-tooltip":"true"},{default:r((e=>[m(p(i(g)(e.row.stime)),1)])),_:1}),d(Z,{align:"left",label:"会议时长",prop:"ptime",width:"auto"}),d(Z,{align:"left",label:"上级领导",prop:"leader",width:"auto","show-overflow-tooltip":"true"}),d(Z,{align:"left",label:"我区参会领导",prop:"mleader",width:"120","show-overflow-tooltip":"true"}),d(Z,{align:"left",label:"参会人数",prop:"amount",width:"auto"}),d(Z,{align:"left",label:"会议等级",prop:"level",width:"auto"}),d(Z,{align:"left",label:"责任单位",prop:"resposen",width:"auto","show-overflow-tooltip":"true"}),d(Z,{align:"left",label:"会议线路",prop:"route",width:"auto","show-overflow-tooltip":"true"}),d(Z,{align:"left",label:"备注",prop:"remark",width:"auto"}),d(Z,{align:"left",label:"按钮组",width:"130"},{default:r((e=>[d(y,{type:"primary",link:"",icon:"edit",size:"small",class:"table-button",onClick:l=>(async e=>{const l=await V({ID:e.ID});L.value="update",0===l.code&&(x.value=l.data.remeetcalendar,Q.value=!0)})(e.row)},{default:r((()=>[m("变更")])),_:2},1032,["onClick"]),d(y,{type:"primary",link:"",icon:"delete",size:"small",onClick:l=>{return a=e.row,void s.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{N(a)}));var a}},{default:r((()=>[m("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",z,[d(ee,{layout:"total, sizes, prev, pager, next, jumper","current-page":j.value,"page-size":I.value,"page-sizes":[10,30,50,100],total:S.value,onCurrentChange:q,onSizeChange:O},null,8,["current-page","page-size","total"])])]),d(le,{modelValue:Q.value,"onUpdate:modelValue":l[32]||(l[32]=e=>Q.value=e),"before-close":X,title:"弹窗操作"},{footer:r((()=>[u("div",C,[d(y,{size:"small",onClick:X},{default:r((()=>[m("取 消")])),_:1}),d(y,{size:"small",type:"primary",onClick:Y},{default:r((()=>[m("确 定")])),_:1})])])),default:r((()=>[d(M,{model:x.value,"label-position":"right",ref_key:"elFormRef",ref:R,rules:T,"label-width":"120px"},{default:r((()=>[d(c,{label:"会议日期:",prop:"mDate"},{default:r((()=>[d(v,{modelValue:x.value.mDate,"onUpdate:modelValue":l[19]||(l[19]=e=>x.value.mDate=e),type:"date",style:{width:"100%"},placeholder:"选择日期",clearable:!0},null,8,["modelValue"])])),_:1}),d(c,{label:"会议室:",prop:"mRoom"},{default:r((()=>[d(f,{modelValue:x.value.mRoom,"onUpdate:modelValue":l[20]||(l[20]=e=>x.value.mRoom=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议类型:",prop:"mType"},{default:r((()=>[d(f,{modelValue:x.value.mType,"onUpdate:modelValue":l[21]||(l[21]=e=>x.value.mType=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议名称:",prop:"title"},{default:r((()=>[d(f,{modelValue:x.value.title,"onUpdate:modelValue":l[22]||(l[22]=e=>x.value.title=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"开始时间:",prop:"stime"},{default:r((()=>[d(v,{modelValue:x.value.stime,"onUpdate:modelValue":l[23]||(l[23]=e=>x.value.stime=e),type:"date",style:{width:"100%"},placeholder:"选择日期",clearable:!0},null,8,["modelValue"])])),_:1}),d(c,{label:"会议时长:",prop:"ptime"},{default:r((()=>[d(f,{modelValue:x.value.ptime,"onUpdate:modelValue":l[24]||(l[24]=e=>x.value.ptime=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"上级领导:",prop:"leader"},{default:r((()=>[d(f,{modelValue:x.value.leader,"onUpdate:modelValue":l[25]||(l[25]=e=>x.value.leader=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"我区参会领导:",prop:"mleader"},{default:r((()=>[d(f,{modelValue:x.value.mleader,"onUpdate:modelValue":l[26]||(l[26]=e=>x.value.mleader=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"参会人数:",prop:"amount"},{default:r((()=>[d(f,{modelValue:x.value.amount,"onUpdate:modelValue":l[27]||(l[27]=e=>x.value.amount=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议等级:",prop:"level"},{default:r((()=>[d(f,{modelValue:x.value.level,"onUpdate:modelValue":l[28]||(l[28]=e=>x.value.level=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"责任单位:",prop:"resposen"},{default:r((()=>[d(f,{modelValue:x.value.resposen,"onUpdate:modelValue":l[29]||(l[29]=e=>x.value.resposen=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"会议线路:",prop:"route"},{default:r((()=>[d(f,{modelValue:x.value.route,"onUpdate:modelValue":l[30]||(l[30]=e=>x.value.route=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),d(c,{label:"备注:",prop:"remark"},{default:r((()=>[d(f,{modelValue:x.value.remark,"onUpdate:modelValue":l[31]||(l[31]=e=>x.value.remark=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{x as default};
