/*! 
 Build based on gin-vue-admin 
 Time : 1678795244000 */
import{u as e,R as a,M as l,r as s,z as t,V as o,j as i,Q as n,A as d,b as u,O as r,o as c,m,w as f,e as v,n as p,d as g,D as h,C as y,c as w,v as _,f as b,T as x,I,F as k,t as j,h as C,W as N,J as M,N as A,G as L,Y as z}from"./index.a10c697d.js";import D from"./index.e4589625.js";import G from"./history.ad41a027.js";import O from"./search.e8037aca.js";import R from"./bottomInfo.3f64f601.js";import{C as T}from"./index.46179dcf.js";import V from"./index.a8116c2b.js";import"./index.8ab9c78c.js";import"./menuItem.0b6edaa1.js";import"./asyncSubmenu.944bd619.js";import"./index.1ab922f2.js";const $=["src"],E={key:0,class:"gvaIcon gvaIcon-arrow-double-right"},S={key:1,class:"gvaIcon gvaIcon-arrow-double-left"},U={class:"right-box"},W={class:"dp-flex justify-content-center align-items height-full width-full"},B={class:"header-avatar",style:{cursor:"pointer"}},F={style:{"font-weight":"600"}},H={name:"Layout"},J=Object.assign(H,{setup(H){const J=e(),Q=a(),Y=l(),q=s(!1),K=s(!0),P=s(!1),X=()=>{const e=document.body.clientWidth;e<1e3?(P.value=!0,K.value=!1,q.value=!0):e>=1e3&&e<1200?(P.value=!1,K.value=!1,q.value=!0):(P.value=!1,K.value=!0,q.value=!1)};X();const Z=s(!1);t((()=>{o.emit("collapse",q.value),o.emit("mobile",P.value),o.on("reload",ie),o.on("showLoading",(()=>{Z.value=!0})),o.on("closeLoading",(()=>{Z.value=!1})),window.onresize=()=>(X(),o.emit("collapse",q.value),void o.emit("mobile",P.value)),ee.loadingInstance&&ee.loadingInstance.close()}));const ee=i(),ae=n((()=>"dark"===ee.sideMode?"#fff":"light"===ee.sideMode?"#191a23":ee.baseColor)),le=n((()=>"dark"===ee.sideMode?"#191a23":"light"===ee.sideMode?"#fff":ee.sideMode)),se=n((()=>Q.meta.matched)),te=s(!0);let oe=null;const ie=async()=>{oe&&window.clearTimeout(oe),oe=window.setTimeout((async()=>{if(Q.meta.keepAlive)te.value=!1,await d(),te.value=!0;else{const e=Q.meta.title;J.push({name:"Reload",params:{title:e}})}}),400)},ne=s(!1),de=()=>{q.value=!q.value,K.value=!q.value,ne.value=!q.value,o.emit("collapse",q.value)},ue=()=>{J.push({name:"person"})};return(e,a)=>{const l=u("el-row"),s=u("el-aside"),t=u("el-col"),o=u("el-breadcrumb-item"),i=u("el-breadcrumb"),n=u("arrow-down"),d=u("el-icon"),H=u("el-dropdown-item"),J=u("el-dropdown-menu"),X=u("el-dropdown"),oe=u("el-header"),ie=u("router-view"),re=u("el-main"),ce=u("el-container"),me=r("loading");return c(),m(ce,{class:"layout-cont"},{default:f((()=>[v(ce,{class:p([K.value?"openside":"hideside",P.value?"mobile":""])},{default:f((()=>[v(l,{class:p([ne.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(ne.value=!ne.value,K.value=!!q.value,void de()))},null,8,["class"]),v(s,{class:"main-cont main-left gva-aside"},{default:f((()=>[g("div",{class:"tilte",style:h({background:y(le)})},[g("img",{alt:"",class:"logoimg",src:e.$GIN_VUE_ADMIN.appLogo},null,8,$),K.value?(c(),w("div",{key:0,class:"tit-text",style:h({color:y(ae)})},_(e.$GIN_VUE_ADMIN.appName),5)):b("",!0)],4),v(D,{class:"aside"})])),_:1}),v(re,{class:"main-cont main-right"},{default:f((()=>[v(x,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[g("div",{style:h({width:`calc(100% - ${P.value?"0px":q.value?"54px":"220px"})`}),class:"topfix"},[v(l,null,{default:f((()=>[v(t,null,{default:f((()=>[v(oe,{class:"header-cont"},{default:f((()=>[v(l,{class:"pd-0"},{default:f((()=>[v(t,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:f((()=>[g("div",{class:"menu-total",onClick:de},[q.value?(c(),w("div",E)):(c(),w("div",S))])])),_:1}),v(t,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:f((()=>[I(v(i,{class:"breadcrumb"},{default:f((()=>[(c(!0),w(k,null,j(y(se).slice(1,y(se).length),(e=>(c(),m(o,{key:e.path},{default:f((()=>[C(_(y(N)(e.meta.title,y(Q))),1)])),_:2},1024)))),128))])),_:1},512),[[M,!P.value]])])),_:1}),v(t,{xs:12,lg:9,md:9,sm:14,xl:9},{default:f((()=>[g("div",U,[v(O),v(X,null,{dropdown:f((()=>[v(J,{class:"dropdown-group"},{default:f((()=>[v(H,null,{default:f((()=>[g("span",F," 当前角色："+_(y(ee).userInfo.authority.authorityName),1)])),_:1}),y(ee).userInfo.authorities?(c(!0),w(k,{key:0},j(y(ee).userInfo.authorities.filter((e=>e.authorityId!==y(ee).userInfo.authorityId)),(e=>(c(),m(H,{key:e.authorityId,onClick:a=>(async e=>{0===(await z({authorityId:e})).code&&(window.sessionStorage.setItem("needCloseAll","true"),window.location.reload())})(e.authorityId)},{default:f((()=>[g("span",null," 切换为："+_(e.authorityName),1)])),_:2},1032,["onClick"])))),128)):b("",!0),v(H,{icon:"avatar",onClick:ue},{default:f((()=>[C("个人信息")])),_:1}),v(H,{icon:"reading-lamp",onClick:y(ee).LoginOut},{default:f((()=>[C("登 出")])),_:1},8,["onClick"])])),_:1})])),default:f((()=>[g("div",W,[g("span",B,[v(T),I(g("span",{style:{"margin-left":"5px"}},_(y(ee).userInfo.nickName),513),[[M,!P.value]]),v(d,null,{default:f((()=>[v(n)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),v(G,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),te.value?I((c(),m(ie,{key:0,"element-loading-text":"正在加载中",class:"admin-box"},{default:f((({Component:e})=>[g("div",null,[v(x,{mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[(c(),m(A,{include:y(Y).keepAliveRouters},[(c(),m(L(e)))],1032,["include"]))])),_:2},1024)])])),_:1})),[[me,Z.value]]):b("",!0),v(R),v(V)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{J as default};
